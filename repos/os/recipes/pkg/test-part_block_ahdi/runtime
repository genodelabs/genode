runtime | ram: 72M | caps: 1000 | binary: init

+ requires | + timer

+ fail    | after_seconds: 70
+ succeed | : child "test-part*" exited with exit value 0
+ fail    | : *Error:

+ content
  + rom | label: ld.lib.so
  + rom | label: vfs_block
  + rom | label: vfs.lib.so
  + rom | label: part_block
  + rom | label: block_tester
  + rom | label: report_rom
  + rom | label: ata.ahdi.raw

+ config | prio_levels: 1 | verbose: yes
  + parent-provides
    + service ROM
    + service IRQ
    + service IO_MEM
    + service IO_PORT
    + service PD
    + service RM
    + service CPU
    + service LOG
    + service Timer

  + default-route
    + any-service
      + parent
      + any-child

  + default | caps: 100

  + start vfs_block | ram: 32M
    + provides | + service Block
    + config
      + vfs | + rom ata.ahdi.raw
      + default-policy | file: /ata.ahdi.raw | block_size: 512

  + start part_block | ram: 10M
    + provides | + service Block
    + route
    | + any-service
    |   + child vfs_block
    |   + parent
    |   + any-child
    + config
      + report | partitions: yes
      + policy | label_prefix: test-part1 | partition: 1

  + start report_rom | ram: 5M
    + provides
      + service Report
      + service ROM
    + config | verbose: yes

  + start test-part1 | ram: 5M
    + binary block_tester
    + config | verbose: no | log: yes | stop_on_error: no
    | + tests
    |   + sequential | length: 256K | size: 1K | io_buffer: 128K | batch: 4
    + route
      + any-service
        + child part_block
        + parent
        + any-child
-
