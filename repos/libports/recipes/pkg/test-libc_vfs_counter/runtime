runtime | ram: 32M | caps: 1000 | binary: init

+ requires | + timer

+ fail    | after_seconds: 30
+ succeed | : child "test-libc_counter-sink" exited with exit value 0
+ fail    | : *Error:

+ content
  + rom | label: ld.lib.so
  + rom | label: libc.lib.so
  + rom | label: libm.lib.so
  + rom | label: posix.lib.so
  + rom | label: vfs.lib.so
  + rom | label: vfs
  + rom | label: test-libc_counter-source
  + rom | label: test-libc_counter-sink
  + rom | label: terminal_crosslink

+ config
  + parent-provides
    + service ROM
    + service PD
    + service RM
    + service CPU
    + service LOG
    + service Timer

  + default-route
    + any-service
      + parent
      + any-child

  + default | caps: 100

  + start terminal_crosslink | ram: 2M
    + provides | + service Terminal

  + start vfs | ram: 12M
    + provides | + service File_system
    + config
      + vfs | + terminal
      + default-policy | root: / | writeable: yes

  + start test-libc_counter-source | ram: 8M
    + config
      + vfs
      | + dir dev
      |   + terminal
      |   + log
      + libc | stdin: /dev/terminal | stdout: /dev/terminal | stderr: /dev/log

  + start test-libc_counter-sink | ram: 8M | caps: 110
    + config
      + vfs
      | + dir dev
      | | + log
      | | + null
      | + dir vfs
      |   + fs
      + libc | stdin: /vfs/terminal | stdout: /vfs/terminal | stderr: /dev/log
-
